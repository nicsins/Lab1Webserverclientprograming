<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>To Do List</title>
    <link rel="icon" href="../img/Favinic.png">
    <link rel="stylesheet" href="../styles/normalize.css">
    <link rel="stylesheet" href="../styles/todo.css">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
<header><h1>Enter a TV show (or movie) you like.</h1></header>
<section>
    <ul id="list"></ul>
    <form action="#" method="post">
        <div>
            <label for="newitem">Add item</label>
            <input type="text" name="newitem" id="newitem" onsubmit="check_for_item() "
                   placeholder="new item" maxlength="50 " minlength="2" required>
            <br>
            <input id="is-movie" type="checkbox"><label for="is-movie">Check this box if it is a movie?</label>
            <br>
            <input type="submit" name="save" value="save" >
        </div>
    </form>
</section>
<footer>
</footer>
<script>
        var lis=document.querySelectorAll('li');
      function check_for_item(text) {
         field.addEventListener('submit',function(){
        if (field.value in lis.entries()){
            alert('already there');
            text='';
        }

      })}

    (function validate(){
        let arr=[];
        var shows = document.querySelector('#list');
        var form = document.querySelector('form');
        var field = document.querySelector('#newitem');



         var checked=document.getElementsByClassName('is-movie').checked;
        form.addEventListener( 'submit', function( ev ) {

            let check= "&#10004";
            if (checked){

                list.innerHTML += '<li class="movie">'+check +field.value + '</li>';
                field.value = '';
                field.focus();
                ev.preventDefault();
            }else{
                list.innerHTML += '<li class="tv-show">' + field.value + '</li>';
                field.value = '';
                field.focus();
                ev.preventDefault();}
        }, false);

        shows.addEventListener( 'click', function( ev ) {
            var t = ev.target;
            if ( t.tagName === 'LI' ) {
                if ( t.classList.contains( 'done' ) ) {
                    t.parentNode.removeChild( t );
                } else {
                    t.classList.add( 'done' );
                }
            }
            ev.preventDefault();
        }, false);

    })();
</script>
</body>
</html>